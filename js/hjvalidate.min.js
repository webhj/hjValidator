!function(){var t={trigger:"change",correct:!1,callback:null},n={required:function(){return""!==this.val()},regex:function(){return new RegExp(this.data("regex")).test(this.val())},"int":function(){return/^\+?[1-9][0-9]*$/.test(this.val())},ln:function(){return String(this.val()).length>=Number(this.data("ln"))},mn:function(){return String(this.val()).length<=Number(this.data("mn"))},lt:function(){return Number(this.val())<=Number(this.data("lt"))},gt:function(){return Number(this.val())>=Number(this.data("gt"))},email:function(){return/^[A-Za-z0-9\u4e00-\u9fa5]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/.test(this.val())}},r={required:"不能为空",regex:"","int":"请输入正整数",ln:function(){return"至少"+this.data("ln")+"位数"},mn:function(){return"最多"+this.data("mn")+"位数"},lt:function(){return"不能大于"+this.data("lt")},gt:function(){return"不能小于"+this.data("gt")},email:"请输入正确的邮箱"};$.fn.hjValidator=function(e){var a=$.extend({},t,e||{}),i=$(this).find("input").not("[type=button],[type=submit],[type=reset]");i.on(a.trigger,function(){var t=$(this);t.next().remove();$.each(n,function(n,e){var a=t.data(n);if(a){var i=e.call(t),s=t.data(n+"-msg"),u=r[n];return i||(s?t.after('<span class="errorMsg" style="color:#f00">'+s+"</span>"):"function"==typeof u?t.after('<span class="errorMsg" style="color:red">'+u.call(t)+"</span>"):"string"==typeof u&&t.after('<span class="errorMsg" style="color:red">'+u+"</span>")),i}}),t.next().size()<1&&a.correct&&t.after('<span style="color:green">输入正确</span>')}),$(this).on("submit",function(){i.each(function(){$(this).trigger("focus").blur()});var t=$(".errorMsg").length;return!t&&("function"==typeof a.callback&&a.callback())}).on("reset",function(){i.next().remove()})}}(window.jQuery);